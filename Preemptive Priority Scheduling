#include <stdio.h>

int main() {
    int n, i, t = 0, done = 0, bt[20], at[20], pr[20], rt[20], wt[20], tat[20], ct[20];
    float avg_wt = 0, avg_tat = 0;

    printf("Enter number of processes: ");
    scanf("%d", &n);

    printf("Enter BT, Priority, AT:\n");
    for (i = 0; i < n; i++) {
        scanf("%d %d %d", &bt[i], &pr[i], &at[i]);
        rt[i] = bt[i];
    }

    while (done < n) {
        int idx = -1, min = 9999;
        for (i = 0; i < n; i++)
            if (rt[i] > 0 && at[i] <= t && pr[i] < min) { min = pr[i]; idx = i; }

        if (idx == -1) { t++; continue; }

        rt[idx]--; t++;
        if (rt[idx] == 0) {
            done++; ct[idx] = t;
            tat[idx] = ct[idx] - at[idx];
            wt[idx] = tat[idx] - bt[idx];
            avg_wt += wt[idx]; avg_tat += tat[idx];
        }
    }

    printf("\nP\tBT\tPr\tAT\tWT\tTAT\n");
    for (i = 0; i < n; i++)
        printf("P%d\t%d\t%d\t%d\t%d\t%d\n", i+1, bt[i], pr[i], at[i], wt[i], tat[i]);

    printf("\nAvg WT=%.2f\nAvg TAT=%.2f\n", avg_wt/n, avg_tat/n);
}

OUTPUT : 
Enter number of processes: 3
Enter BT, Priority, AT:
2 5 1
1 8 3
11 15 25

P	BT	Pr	AT	WT	TAT
P1	2	5	1	0	2
P2	1	8	3	0	1
P3	11	15	25	0	11

Avg WT=0.00
Avg TAT=4.67

